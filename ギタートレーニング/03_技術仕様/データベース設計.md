# データベース設計

## ER図（視覚的表現）

### 画像版（推奨）

![ER図](データベース設計.png)

> **注意**: 画像ファイル（`データベース設計.png` または `データベース設計.svg`）をエクスポートするには、[draw.io](https://app.diagrams.net/)で `データベース設計.drawio` を開き、「ファイル」→「エクスポート」→「PNG」または「SVG」を選択してください。

### 編集可能版

draw.ioで作成したER図: [データベース設計.drawio](データベース設計.drawio)

このファイルをdraw.io（https://app.diagrams.net/）で開くことで、データベースのER図を視覚的に確認・編集できます。

## ER図（主要エンティティ）

```
User ──┬── UserProgress ─── Lesson
       │
       ├── PracticeLog
       │
       ├── UserGoal
       │
       └── UserSubscription

Lesson ──┬── LessonContent
         │
         └── LessonExercise

Song ────┬── SongTab
         │
         └── SongAudio

Scale
Chord
ChordProgression
```

## Prisma Schema

詳細は元の技術仕様書を参照

### 主要なテーブル

- **User**: ユーザー情報
- **Lesson**: レッスン情報
- **UserProgress**: ユーザーのレッスン進捗
- **PracticeLog**: 練習ログ
- **UserGoal**: ユーザーの目標
- **UserSubscription**: ユーザーのサブスクリプション
- **LessonContent**: レッスンコンテンツ
- **Song**: 楽曲情報
- **SongTab**: タブ譜
- **Scale**: スケール情報
- **Chord**: コード情報
